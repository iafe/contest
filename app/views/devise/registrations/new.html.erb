<div class="container"><h1>Create a New User Account</h1>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= devise_error_messages! %>
  
  <div class="field">
    <%= f.label :first_name %> <span class="required">*</span><br>
    <%= f.text_field :first_name %>
  </div>
  <div class="field">
    <%= f.label :last_name %> <span class="required">*</span><br>
    <%= f.text_field :last_name %>
  </div>
  <div class="field">
    <%= f.label :suffix %><br>
    <%= f.text_field :suffix %>
  </div>
  <div class="field">
    <%= f.label :phone %> <span class="required">*</span><br>
    <%= f.text_field :phone %>
  </div>
  <div class="field">
    <%= f.label :email %> <span class="required">*</span><br>
    <%= f.text_field :email, autofocus: true %>
  </div>
  <div class="field">
    <%= f.label :email_confirmation, "Email Confirmation" %> <span class="required">*</span><br>
	<% if params[:action] == 'new' || params[:action] == 'create' %>
      <%= f.text_field :email_confirmation, autofocus: true %>
	<% else %>
	  <%= f.text_field :email_confirmation, value: @user.email %>
	<% end %>
    </div>
  <% if params[:action] == 'new' || params[:action] == 'create' %>
    <div class="field">
      <%= f.label :password %> <span class="required">*</span><br>
      <%= f.password_field :password, autocomplete: "off" %>
    </div>
    <div class="field">
     <%= f.label :password_confirmation, "Password Confirmation" %> <span class="required">*</span><br>
     <%= f.password_field :password_confirmation, autocomplete: "off" %>
    </div>
  <% end %>
  <div class="field">
    <% if params[:action] == 'new' || params[:action] == 'create' %>
	  <%= f.hidden_field :admin, value: false %> 
	<% else %>
	  <% if current_user.admin == true %>
	    <%= f.label :admin, "Admin?" %><br>
        <%= f.check_box :admin %>
      <% else %>
	    <%= f.hidden_field :admin, value: :admin %> 
	  <% end %>
	<% end %>
  </div>
  <div class="field">
    <% if params[:action] == 'new' || params[:action] == 'create' %>
	  <%= f.hidden_field :judge, value: false %> 
	<% else %>
	  <% if current_user.admin == true %>
	    <%= f.label :judge, "Judge?" %><br>
        <%= f.check_box :judge %>
      <% else %>
	    <%= f.hidden_field :judge, value: :judge %> 
	  <% end %>
	<% end %>
  </div>
  <div class="field">
    <% if params[:action] == 'new' || params[:action] == 'create' %>
	  <%= f.hidden_field :enabled, value: true %> 
	<% else %>
	  <% if current_user.admin == true %>
	    <%= f.label :enabled, "Enabled?" %><br>
        <%= f.check_box :enabled %>
      <% else %>
	    <%= f.hidden_field :enabled, value: :enabled %> 
	  <% end %>
	<% end %>
  </div>

  <div><p><%= f.submit "Sign up" %></p></div>
<% end %>

<%= render "devise/shared/links" %>

</div>
